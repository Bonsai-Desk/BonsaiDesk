{"version":3,"sources":["utilities.js","pages/YouTube.jsx","pages/Spring.jsx","pages/Twitch.jsx","components/Button.jsx","static/door-open.svg","static/link.svg","static/thinking-face.svg","DataProvider.jsx","pages/Menu.jsx","static/yt-small.png","static/backspace-hollow.svg","static/caret-square-up.svg","static/caret-square-up-hollow.svg","components/Keys.jsx","pages/Keyboard.jsx","static/close.svg","static/back.svg","static/forward.svg","static/keyboard.svg","static/keyboard-dismiss.svg","pages/WebNav.jsx","App.jsx","index.jsx"],"names":["module","exports","postJson","json","window","vuplex","console","log","JSON","stringify","postMessage","PlayerState","showState","state","name","Video","props","query","URLSearchParams","location","search","xRes","parseInt","get","yRes","opts","width","innerWidth","height","innerHeight","playerVars","autoplay","controls","disablekb","rel","history","useHistory","dev_mode","pathname","split","match","params","id","timeStamp","useState","player","setPlayer","init","setInit","ready","setReady","readying","setReadying","justBuffered","setJustBuffered","postStateChange","useCallback","message","type","current_time","getCurrentTime","readyUp","_timeStamp","Math","abs","getPlayerState","prepareToReadyUp","playVideo","seekTo","pauseVideo","unMute","_player","mute","useEffect","playerListeners","event","parse","data","command","setVolume","level","addEventListener","removeEventListener","pingPlayerTime","setInterval","document","getElementsByTagName","querySelectorAll","forEach","mediaElement","volume","duration","getDuration","clearInterval","onClick","push","onReady","target","loadVideoById","parseFloat","onError","onStateChange","Simple","useSpring","x","y","config","mass","tension","friction","set","bind","useDrag","down","movement","mx","my","className","div","style","Page","Twitch","options","url","onProgress","played","loaded","playedSeconds","loadedSeconds","postMouseUp","Type","Message","postHover","Button","handleClick","shouldPostDown","shouldPostHover","shouldPostUp","onPointerEnter","onPointerDown","onPointerUp","children","StoreContext","React","createContext","useStore","useContext","store","ip_address","port","network_state","loading_room_code","_refresh_room_code_handler","user_info","player_info","build","media_info","Active","Name","Paused","Scrub","Duration","_room_open","_room_code","makeAutoObservable","this","axios","method","room_code","catch","err","open","code","refreshRoomCode","Object","seal","pushStoreList","action","kvList","kv","Key","Val","pushStore","obj","prop","pushStoreSingle","StoreProvider","observer","storeListeners","Data","_","useListeners","Provider","value","API_BASE","redButtonClass","greenButtonClass","grayButtonClass","postBrowseYouTube","postOpenRoom","postCloseRoom","postLeaveRoom","showInfo","info","map","ConnectionId","join","ListItem","selected","inactive","SettingsList","SettingsTitle","JoinDeskButton","char","ConnectedClient","src","ThinkingFace","alt","InfoItem","imgSrc","title","slug","MenuContent","LoadingHomePage","size","color","ClientHomePage","LinkImg","RoomInfo","OpenRoom","DoorOpen","CloseRoom","room_open","Fragment","HostHomePage","length","PlayerPage","ref","useRef","media","pct","e","ts","postSeekPlayer","clientX","current","offsetLeft","offsetWidth","HomePage","Inner","JoinDeskPage","navHome","setCode","loading","setLoading","setMessage","then","response","slice","VideosPage","DebugPage","addFakeIpPort","rmFakeIpPort","setNetState","netState","addFakeClient","rmFakeClient","pop","toggleRoomOpen","containerClass","entries","Menu","active","setActive","autorun","header","tag","pages","component","SelectedPage","joinDeskActive","i","toLowerCase","Shift","shift","toggleShift","imgHidden","imgVisible","KeyFrames","CaretSquareUp","CaretSquareUpHollow","toggle","reset","from","padding","cursor","borderRadius","background","display","flexWrap","alignContent","NumsOrChar","SymbolsOrNum","postChar","KeyChar","_char","toUpperCase","Enter","Backspace","KeySVG","BackSpaceImgHollow","Space","Keyboard","setShift","setLevel","level0","level1","handleClickSymbolOrNum","level12","level2","handleClickNumOrChar","postCommand","KeyboardButton","kbActive","KeyBoardDismissImg","KeyBoardImg","WebNav","setKbActive","CloseImg","BackImg","ForwardImg","postListenersReady","Date","getTime","Boot","navListeners","path","genNavListeners","to","Home","App","Spring","YouTube","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.7bd47248.chunk.js","sourcesContent":["let postJson = (json) => {\n    if (window.vuplex != null) {\n        console.log(\"post json \" + JSON.stringify(json))\n        window.vuplex.postMessage(json);\n    }\n}\n\nmodule.exports = {postJson};","import YouTube from 'react-youtube';\nimport React, {useCallback, useEffect, useState} from 'react';\nimport {useHistory} from 'react-router-dom';\n\nfunction setVol () {\n  console.log(document.getElementsByTagName(\"iframe\"))\n  document.querySelectorAll('video, audio').forEach(mediaElement => {\n    console.log(\"hit\")\n    console.log(mediaElement)\n    mediaElement.volume = 0.25\n  })\n}\n\nconst PlayerState = {\n  UNSTARTED: -1,\n  ENDED: 0,\n  PLAYING: 1,\n  PAUSED: 2,\n  BUFFERING: 3,\n  CUED: 5,\n};\n\nlet showState = (state) => {\n  let name;\n  switch (state) {\n    case -1:\n      name = 'unstarted';\n      break;\n    case 0:\n      name = 'ended';\n      break;\n    case 1:\n      name = 'playing';\n      break;\n    case 2:\n      name = 'paused';\n      break;\n    case 3:\n      name = 'buffering';\n      break;\n    case 5:\n      name = 'cued';\n      break;\n    default:\n      name = 'BAD SWITCH STATE';\n  }\n  return name;\n\n};\n\nlet Video = (props) => {\n  let query = new URLSearchParams(props.location.search);\n\n  let xRes = parseInt(query.get('x'));\n  let yRes = parseInt(query.get('y'));\n\n  let opts = {\n    width: xRes && yRes ? xRes : window.innerWidth,\n    height: xRes && yRes ? yRes : window.innerHeight,\n    playerVars: {\n      autoplay: 0,\n      controls: 0,\n      disablekb: 1,\n      rel: 0,\n    },\n  };\n\n  let history = useHistory();\n\n  let dev_mode = props.location.pathname.split('/')[1] === 'youtube_test';\n\n  let {id, timeStamp} = props.match.params;\n\n  let [player, setPlayer] = useState(null);\n  let [init, setInit] = useState(false);\n\n  // this is the 'I'm ready at a timestamp' 'ready', not the 'player is ready' of 'onReady'\n  let [ready, setReady] = useState(false);\n  let [readying, setReadying] = useState(false);\n  let [justBuffered, setJustBuffered] = useState(false);\n\n  let postStateChange = useCallback((message) => {\n    if (message !== 'READY') setReady(false);\n    console.log('POST ' + message);\n    if (!dev_mode) {\n      window.vuplex.postMessage({\n        type: 'stateChange',\n        message: message,\n        current_time: player.getCurrentTime(),\n      });\n    }\n  }, [player, dev_mode]);\n\n  let readyUp = useCallback((_timeStamp) => {\n    if (player == null) {\n      console.log('bonsai: ignoring attempt to ready up while player is null');\n      return;\n    }\n\n    if (ready && Math.abs(player.getCurrentTime() - _timeStamp) < 0.01) {\n      console.log('bonsai: ready-up called while ready');\n      postStateChange('READY');\n      return;\n    }\n\n    let state = player.getPlayerState();\n\n    if (!init) {\n      console.log('bonsai: ignoring attempt to ready-up before init');\n    } else {\n      console.log(\n          'bonsai: readying up from ' + showState(state) + ' -> ' + _timeStamp);\n      prepareToReadyUp(player);\n      if (state === PlayerState.PAUSED) {\n        player.playVideo();\n      }\n      player.seekTo(_timeStamp, true);\n      player.pauseVideo();\n      player.unMute();\n    }\n\n  }, [init, player, postStateChange, ready]);\n\n  let prepareToReadyUp = (_player) => {\n    console.log('bonsai: prepare to ready up');\n    setReady(false);\n    setReadying(true);\n    _player.mute();\n  };\n\n  let onReady = (event) => {\n    // load the player to the url timestamp when ready\n    let _player = event.target;\n    setPlayer(_player);\n    prepareToReadyUp(_player);\n    _player.loadVideoById(id, parseFloat(timeStamp));\n  };\n  let onError = (event) => {\n    console.log('bonsai youtube error: ' + event);\n  };\n\n  function handleCued() {\n    console.log('bonsai: ' + showState(player.getPlayerState()));\n  }\n\n  function handleUnstarted() {\n    console.log(\n        'bonsai: ' +\n        showState(player.getPlayerState()) + ' ' +\n        player.getCurrentTime(),\n    );\n  }\n\n  function handleEnded() {\n    console.log('bonsai: ' + showState(player.getPlayerState()));\n    postStateChange('ENDED');\n  }\n\n  function handlePlaying() {\n    if (init) {\n      if (readying) {\n        console.log('bonsai: while readying -> play');\n      } else {\n        if (justBuffered) {\n          console.log('bonsai: playing after buffer');\n        } else {\n          console.log('bonsai: playing');\n        }\n        postStateChange('PLAYING');\n      }\n    } else {\n      player.pauseVideo();\n    }\n    if (justBuffered) {\n      setJustBuffered(false);\n    }\n  }\n\n  function handlePaused() {\n    if (init) {\n      if (justBuffered) {\n        if (readying && !ready) {\n          console.log('bonsai: ready (pause after buffer)');\n          setReady(true);\n          setReadying(false);\n          postStateChange('READY');\n        } else {\n          console.log('bonsai: paused after buffering');\n          postStateChange('PAUSED');\n        }\n      } else {\n        if (readying) {\n          console.log('bonsai: while readying -> paused');\n        } else {\n          console.log('bonsai: paused');\n          postStateChange('PAUSED');\n        }\n      }\n    } else {\n      console.log('bonsai: init complete');\n      player.seekTo(timeStamp, true);\n      player.unMute();\n      setInit(true);\n      setReady(true);\n      setReadying(false);\n      postStateChange('READY');\n    }\n    if (justBuffered) {\n      setJustBuffered(false);\n    }\n  }\n\n  function handleBuffering() {\n    if (readying) {\n      console.log('bonsai: while readying -> buffering');\n    } else {\n      console.log('bonsai: buffering');\n    }\n    setJustBuffered(true);\n  }\n\n  useEffect(() => {\n    if (player == null || dev_mode) {\n      return;\n    }\n\n    let playerListeners = (event) => {\n      let json = JSON.parse(event.data);\n      if (json.type !== 'video') {\n        return;\n      }\n      console.log(event.data);\n      switch (json.command) {\n        case 'play':\n          console.log('COMMAND: play');\n          player.playVideo();\n          break;\n        case 'pause':\n          console.log('COMMAND: pause');\n          player.pauseVideo();\n          break;\n        case 'readyUp':\n          console.log('COMMAND: readyUp');\n          readyUp(json.timeStamp);\n          break;\n        case \"setVolume\":\n          player.setVolume(100 * json.level)\n          break;\n        default:\n          console.log('command: not handled (video) ' + event.data);\n          break;\n      }\n    };\n    window.vuplex.addEventListener('message', playerListeners);\n    return () => {\n      window.vuplex.removeEventListener('message', playerListeners);\n    };\n  }, [id, player, dev_mode, readyUp]);\n  useEffect(() => {\n    console.log('bonsai: add ping interval');\n    let pingPlayerTime = setInterval(() => {\n      // todo\n      setVol()\n      let current_time = 0;\n      let duration = 1;\n      if (player != null && player.getCurrentTime() != null && player.getDuration() != null) {\n        current_time = player.getCurrentTime();\n        duration = player.getDuration();\n      }\n      if (dev_mode) {\n        return;\n      }\n      window.vuplex.postMessage({\n        type: 'infoCurrentTime',\n        current_time: current_time,\n        duration: duration\n      });\n    }, 100);\n    return () => {\n      console.log('bonsai: remove ping interval');\n      clearInterval(pingPlayerTime);\n    };\n  }, [id, player, dev_mode]);\n\n  let onStateChange = (event) => {\n    switch (event.data) {\n      case PlayerState.CUED:\n        handleCued();\n        break;\n      case PlayerState.UNSTARTED:\n        handleUnstarted();\n        break;\n      case PlayerState.PLAYING:\n        handlePlaying();\n        break;\n      case PlayerState.PAUSED:\n        handlePaused();\n        break;\n      case PlayerState.BUFFERING:\n        handleBuffering();\n        break;\n      case PlayerState.ENDED:\n        handleEnded();\n        break;\n      default:\n        console.log('bonsai error: did not handle state change ' + event.data);\n        break;\n    }\n  };\n\n  return (\n      <div>\n        {dev_mode ?\n            <div>\n              <p onClick={() => {\n                history.push('/home');\n              }}>home</p>\n              {' '}\n              <p onClick={() => {\n                readyUp(40);\n              }}>ready up</p>\n            </div>\n            : ''\n        }\n        <YouTube\n            opts={opts}\n            onReady={onReady}\n            onError={onError}\n            onStateChange={onStateChange}\n        />\n      </div>\n  );\n};\n\nexport default Video;","import React from 'react';\nimport {animated, useSpring} from 'react-spring';\nimport {useDrag} from 'react-use-gesture';\n\nfunction Simple() {\n\n  const [{x, y}, set] = useSpring(\n      () => ({x: 0, y: 0, config: {mass: 1, tension: 400, friction: 5}}));\n\n  const bind = useDrag(({down, movement: [mx, my]}) => {\n    set({x: down ? mx : 0, y: down ? my : 0});\n  });\n\n  return (\n      <div\n          className={'h-screen w-full flex flex-wrap content-center justify-center'}>\n        <animated.div {...bind()} className={'bg-red-400 h-10 w-10 rounded-lg'}\n                      style={{x, y}}/>\n      </div>\n  );\n\n}\n\nlet Page = () => {\n  return <Simple/>;\n};\n\nexport default Page;","import React from 'react'\nimport ReactPlayer from \"react-player\"\n\nlet Twitch = () => {\n    let options = {\n        url: \"https://www.twitch.tv/hamletva\",\n        width: window.innerWidth,\n        height: window.innerHeight\n    }\n\n    let onProgress = ({played, loaded, playedSeconds, loadedSeconds}) => {\n        console.log(played, loaded, playedSeconds, loadedSeconds)\n    }\n\n    return <ReactPlayer {...options} onProgress={onProgress} />\n}\n\nexport default Twitch;","import React from 'react';\n\nimport {postJson} from '../utilities';\n\nfunction postMouseDown() {\n  postJson({Type: 'event', Message: 'mouseDown'});\n}\n\nfunction postMouseUp() {\n  postJson({Type: 'event', Message: 'mouseUp'});\n}\n\nfunction postHover() {\n  postJson({Type: 'event', Message: 'hover'});\n}\n\nexport function Button(props) {\n  let {\n    handleClick,\n    className = '',\n    shouldPostDown = true,\n    shouldPostHover = true,\n    shouldPostUp = true,\n  } = props;\n  return (\n      <div onPointerEnter={shouldPostHover ? postHover : null}\n           onPointerDown={() => {\n             handleClick();\n             if (shouldPostDown) {\n               postMouseDown();\n             }\n           }}\n           onPointerUp={shouldPostUp ? postMouseUp : null}\n      >\n        <div className={className}>\n          {props.children}\n        </div>\n      </div>\n  );\n}\n\n","export default __webpack_public_path__ + \"static/media/door-open.d2c81c6b.svg\";","export default __webpack_public_path__ + \"static/media/link.2f9ed73a.svg\";","export default __webpack_public_path__ + \"static/media/thinking-face.179ede86.svg\";","import React, {useContext, useEffect, useState} from 'react';\nimport {action, makeAutoObservable} from 'mobx';\nimport {observer} from 'mobx-react-lite';\nimport axios from 'axios';\n\nexport const StoreContext = React.createContext();\nexport const useStore = () => useContext(StoreContext);\n\nlet API_BASE = 'https://api.desk.link';\n\nclass Store {\n  ip_address = null;\n  port = null;\n  network_state = null;\n  loading_room_code = false;\n  _refresh_room_code_handler = null;\n  user_info = {};\n  player_info = [];\n  build = \"DEVELOPMENT\";\n  media_info = {\n    Active: false,\n    Name: \"None\",\n    Paused: true,\n    Scrub: 0,\n    Duration: 1\n  };\n\n  constructor() {\n    makeAutoObservable(this);\n  }\n\n  _room_open = false;\n\n  get room_open() {\n    return this._room_open;\n  }\n\n  set room_open(open) {\n    this._room_open = open;\n    if (!open) {\n      this.room_code = '';\n    }\n  }\n\n  _room_code = null;\n\n  get room_code() {\n    return this._room_code;\n  }\n\n  set room_code(code) {\n    this._room_code = code;\n    if (code) {\n      this._refresh_room_code_handler = setInterval(() => {\n            if (this.room_code) {\n              this.refreshRoomCode();\n            }\n          }\n          , 1000);\n    } else {\n      clearInterval(this._refresh_room_code_handler);\n      this._refresh_room_code_handler = null;\n    }\n  }\n\n  refreshRoomCode() {\n    axios({\n      method: 'post',\n      url: API_BASE + `/rooms/${store.room_code}/refresh`,\n    }).catch(err => {\n      console.log(err);\n      this.room_code = null;\n    });\n  }\n\n}\n\nconst store = new Store();\nObject.seal(store);\nlet pushStoreList = action((kvList) => {\n  kvList.forEach(kv => {\n    store[kv.Key] = kv.Val;\n  });\n});\nlet pushStore = action(obj => {\n  for (const prop in obj) {\n    store[prop] = obj[prop];\n  }\n});\nlet pushStoreSingle = action(obj => {\n  store[obj.Key] = obj.Val;\n});\n\nfunction useListeners() {\n  let [init, setInit] = useState(false);\n\n  useEffect(() => {\n    if (init) return;\n\n    setInit(true);\n\n    let storeListeners = event => {\n      let json = JSON.parse(event.data);\n      switch (json.Type) {\n        case 'command':\n          switch (json.Message) {\n            case 'pushStore':\n              pushStoreList(json.Data);\n              break;\n            case 'pushStoreSingle':\n              pushStoreSingle(json.Data);\n              break;\n            default:\n              console.log('message not handled ' + event.data);\n              break;\n          }\n          break;\n        default:\n          break;\n      }\n\n    };\n\n    if (window.vuplex != null) {\n      console.log('bonsai: vuplex is not null -> storeListeners');\n      window.vuplex.addEventListener('message', storeListeners);\n    } else {\n      console.log('bonsai: vuplex is null');\n      window.addEventListener('vuplexready', _ => {\n        console.log('bonsai: vuplexready -> storeListeners');\n        window.vuplex.addEventListener('message', storeListeners);\n      });\n    }\n\n  }, [init]);\n}\n\nexport const StoreProvider = observer(({children}) => {\n\n  useListeners();\n\n  return <StoreContext.Provider\n      value={{\n        store,\n        pushStore,\n        pushStoreList,\n      }}>{children}</StoreContext.Provider>;\n});","import React, {useEffect, useState, useRef} from 'react';\nimport './Menu.css';\nimport {postJson} from '../utilities';\nimport {Button} from '../components/Button';\nimport axios from 'axios';\nimport DoorOpen from '../static/door-open.svg';\nimport LinkImg from '../static/link.svg';\nimport YtImg from '../static/yt-small.png';\nimport ThinkingFace from '../static/thinking-face.svg';\nimport {useStore} from '../DataProvider';\nimport {BeatLoader, BounceLoader} from 'react-spinners';\nimport {observer} from 'mobx-react-lite';\nimport {action, autorun} from 'mobx';\n\nconst API_BASE = 'https://api.desk.link';\n\nconst roundButtonClass = 'bg-gray-800 active:bg-gray-700 hover:bg-gray-600 rounded-full p-4 cursor-pointer w-20 h-20 flex flex-wrap content-center';\nconst redButtonClass = 'py-4 px-8 font-bold bg-red-800 active:bg-red-700 hover:bg-red-600 rounded cursor-pointer flex flex-wrap content-center';\nconst greenButtonClass = 'py-4 px-8 font-bold bg-green-800 active:bg-green-700 hover:bg-green-600 rounded cursor-pointer flex flex-wrap content-center';\nconst grayButtonClass = 'py-4 px-8 font-bold bg-gray-800 active:bg-gray-700 hover:bg-gray-600 rounded cursor-pointer flex flex-wrap content-center';\nconst grayButtonClassInert = 'py-4 px-8 font-bold bg-gray-800 rounded flex flex-wrap content-center';\n\n// post data\n\nfunction postBrowseYouTube() {\n  postJson({Type: 'command', Message: 'browseYouTube'});\n}\n\nfunction postOpenRoom() {\n  postJson({Type: 'command', Message: 'openRoom'});\n}\n\nfunction postCloseRoom() {\n  postJson({Type: 'command', Message: 'closeRoom'});\n}\n\nfunction postJoinRoom(data) {\n  postJson({Type: 'command', Message: 'joinRoom', data: JSON.stringify(data)});\n}\n\nfunction postLeaveRoom() {\n  postJson({Type: 'command', Message: 'leaveRoom'});\n\n}\n\nfunction postKickConnectionId(id) {\n  postJson({Type: 'command', Message: 'kickConnectionId', Data: id});\n}\n\nfunction postSeekPlayer(ts) {\n  postJson({Type: 'command', Message: 'seekPlayer', Data: ts});\n}\n\nfunction postVolumeIncrement() {\n  postJson({Type: 'command', Message: 'volumeIncrement'});\n}\n\nfunction postVolumeDecrement() {\n  postJson({Type: 'command', Message: 'volumeDecrement'});\n}\n\n// utils\n\nfunction showInfo(info) {\n  switch (info[0]) {\n    case 'player_info':\n      return showPlayerInfo(info[1]);\n    case 'user_info':\n      return JSON.stringify(info);\n    default:\n      return info[1] ? JSON.stringify(info[1], null, 2) : '';\n  }\n}\n\nfunction showPlayerInfo(playerInfo) {\n  return '[' + playerInfo.map(info => {\n    return `(${info.Name}, ${info.ConnectionId})`;\n  }).join(' ') + ']';\n}\n\n//\n\nfunction ListItem(props) {\n  let {selected, handleClick, inactive = false} = props;\n\n  const buttonClassSelected = 'py-4 px-8 bg-blue-700 text-white rounded cursor-pointer flex flex-wrap content-center';\n  const buttonClass = 'py-4 px-8 hover:bg-gray-800 active:bg-gray-900 hover:text-white rounded cursor-pointer flex flex-wrap content-center';\n  const buttonClassInactive = 'py-4 px-8 bg-gray-800 rounded cursor-pointer flex flex-wrap content-center';\n\n  if (inactive) {\n    return (\n        <div className={buttonClassInactive}>\n          {props.children}\n        </div>\n    );\n  }\n\n  let className = selected ? buttonClassSelected : buttonClass;\n  return (\n      <Button className={className} handleClick={handleClick}>\n        {props.children}\n      </Button>\n  );\n}\n\nfunction SettingsList(props) {\n  return (\n      <div className={'space-y-1 px-2'}>\n        {props.children}\n      </div>);\n\n}\n\nfunction SettingsTitle(props) {\n  return <div\n      className={'text-white font-bold text-xl px-5 pt-5 pb-2'}>{props.children}</div>;\n}\n\nfunction JoinDeskButton(props) {\n  let {handleClick, char} = props;\n\n  return (\n      <Button className={roundButtonClass} handleClick={() => {\n        handleClick(char);\n      }}>\n            <span className={'w-full text-center'}>\n                {char}\n            </span>\n      </Button>\n  );\n}\n\nfunction ConnectedClient(props) {\n  let {info} = props;\n  let {Name, ConnectionId} = info;\n\n  const hostClass = 'bg-gray-800 rounded-full p-4 h-20 flex flex-wrap content-center';\n  const clientClass = 'bg-gray-800 active:bg-red-700 hover:bg-red-600 rounded-full p-4 cursor-pointer h-20 flex flex-wrap content-center';\n\n  if (ConnectionId === 0) {\n    return (\n        <div className={hostClass}>\n          <div\n              className={'flex content-center p-2 space-x-4'}>\n            <div>\n              <img className={'h-9 w-9'} src={ThinkingFace} alt={''}/>\n            </div>\n            <div>\n              {Name}\n            </div>\n          </div>\n        </div>\n    );\n  } else {\n    return (\n        <Button className={clientClass} handleClick={() => {\n          postKickConnectionId(ConnectionId);\n        }}>\n          <div\n              className={'flex content-center p-2 space-x-4'}>\n            <div>\n              <img className={'h-9 w-9'} src={ThinkingFace} alt={''}/>\n            </div>\n            <div>\n              {Name}\n            </div>\n          </div>\n        </Button>\n    );\n\n  }\n\n}\n\nfunction InfoItem({imgSrc, title, slug, children}) {\n  return (\n      <div className={'flex w-full justify-between'}>\n        <div className={'flex w-auto'}>\n          <div className={'flex flex-wrap content-center  p-2 mr-2'}>\n            <img className={'h-9 w-9'} src={imgSrc} alt={''}/>\n          </div>\n          <div className={'my-auto'}>\n            <div className={'text-xl'}>\n              {title}\n            </div>\n            <div className={'text-gray-400'}>\n              {slug}\n            </div>\n          </div>\n        </div>\n        {children}\n      </div>\n  );\n}\n\nfunction MenuContent(props) {\n  let {name} = props;\n\n  return (\n      <div className={'text-white p-4 h-full pr-8'}>\n        {name ?\n            <div className={'pb-8 text-xl'}>\n              {name}\n            </div>\n            : ''}\n        <div className={'space-y-8'}>\n          {props.children}\n        </div>\n      </div>\n  );\n\n}\n\nfunction LoadingHomePage() {\n  return <div className={'flex justify-center w-full flex-wrap'}>\n    <BounceLoader size={200} color={'#737373'}/>\n  </div>;\n}\n\nfunction ClientHomePage() {\n  return (\n      <div className={'flex'}>\n        <InfoItem title={'Connected'} slug={'You are connected to a host'}\n                  imgSrc={LinkImg}>\n          <Button handleClick={postLeaveRoom}\n                  className={redButtonClass}>Exit</Button>\n        </InfoItem>\n      </div>\n  );\n}\n\nconst RoomInfo = observer(() => {\n  let {store} = useStore();\n\n  let OpenRoom =\n      <InfoItem title={'Room'} slug={'Invite others'} imgSrc={DoorOpen}>\n        <Button className={greenButtonClass} handleClick={postOpenRoom}>\n          Open Up\n        </Button>\n      </InfoItem>;\n\n  let CloseRoom =\n      <InfoItem title={'Room'} slug={'Ready to accept connections'}\n                imgSrc={DoorOpen}>\n        <Button className={redButtonClass} handleClick={postCloseRoom}>\n          Close\n        </Button>\n      </InfoItem>;\n\n  const roomCodeCLass = 'text-5xl ';\n\n  if (store.room_open) {\n    return (\n        <React.Fragment>\n          {CloseRoom}\n          <InfoItem title={'Desk Code'}\n                    slug={'People who have this can join you'}\n                    imgSrc={LinkImg}>\n            <div className={'h-20 flex flex-wrap content-center'}>\n              {store.room_code ?\n                  <div className={roomCodeCLass}>{store.room_code}</div>\n\n                  :\n                  <div className={grayButtonClassInert}><BeatLoader size={8}\n                                                                    color={'#737373'}/>\n                  </div>\n              }\n            </div>\n          </InfoItem>\n        </React.Fragment>\n    );\n  } else {\n    return (\n        <React.Fragment>\n          {OpenRoom}\n        </React.Fragment>\n    );\n  }\n\n});\n\nconst HostHomePage = observer(() => {\n\n  let {store} = useStore();\n\n  return (\n      <React.Fragment>\n        <RoomInfo/>\n        {store.player_info.length > 0 && store.room_open ?\n            <React.Fragment>\n              <div className={'text-xl'}>People in Your Room</div>\n              <div className={'flex space-x-2'}>\n                {store.player_info.map(info => <ConnectedClient info={info}/>)}\n              </div>\n            </React.Fragment>\n            :\n            ''}\n      </React.Fragment>\n  );\n\n});\n\n//\n\nconst PlayerPage = observer(() => {\n  //const {store} = useStore();\n  const store = {media_info: {Active:true, Scrub: 10, Duration: 33}}\n  const ref = useRef(null);\n\n  let media = store.media_info;\n\n  const pct = 100 * media.Scrub / media.Duration;\n\n  if (!store.media_info.Active) {\n    return '';\n  }\n\n  function handleClick(e) {\n    let pct = (e.clientX - ref.current.offsetLeft) / ref.current.offsetWidth;\n    let ts = pct * store.media_info.Duration\n    postSeekPlayer(ts)\n  }\n\n  function VolumeDecrement () {\n    postVolumeDecrement()\n  }\n\n  function VolumeIncrement () {\n    postVolumeIncrement()\n  }\n\n  return <MenuContent name={'Player'}>\n    <div>Video Scrub</div>\n    <div ref={ref} onPointerDown={handleClick}\n         className={'relative h-16 bg-gray-600'}>\n      <div style={{width: pct + '%'}} className={'h-full bg-gray-400'}/>\n    </div>\n    <div>Volume</div>\n    <div className={\"flex space-x-2\"}>\n      <Button handleClick={VolumeDecrement} className={grayButtonClass}>-</Button>\n      <Button handleClick={VolumeIncrement} className={grayButtonClass}>+</Button>\n    </div>\n  </MenuContent>;\n\n});\n\nconst HomePage = observer(() => {\n\n  let {store} = useStore();\n\n  let Inner;\n\n  switch (store.network_state) {\n    case 'Neutral':\n    case 'HostWaiting':\n    case 'Hosting':\n      Inner = <HostHomePage/>;\n      break;\n    case 'ClientConnected':\n      Inner = <ClientHomePage/>;\n      break;\n    default:\n      Inner = <LoadingHomePage/>;\n      break;\n  }\n\n  return (\n      <MenuContent name={'Home'}>\n        {Inner}\n      </MenuContent>\n  );\n});\n\nfunction JoinDeskPage(props) {\n  let {navHome} = props;\n\n  let [code, setCode] = useState('');\n  let [loading, setLoading] = useState(false);\n  let [message, setMessage] = useState('');\n\n  useEffect(() => {\n    if (loading) return;\n\n    if (code.length === 4) {\n      let url = API_BASE + `/rooms/${code}`;\n      console.log(url);\n      axios({\n        method: 'get',\n        url: url,\n      }).then(response => {\n        postJoinRoom(response.data);\n        navHome();\n        setCode('');\n        setLoading(false);\n      }).catch(err => {\n        console.log(err);\n        setMessage(`Could not find ${code} try again`);\n        setCode('');\n        setLoading(false);\n      });\n    }\n  }, [loading, code, navHome]);\n\n  function handleClick(char) {\n    setMessage('');\n    switch (code.length) {\n      case 4:\n        setCode(char);\n        break;\n      default:\n        setCode(code + char);\n        break;\n    }\n  }\n\n  function handleBackspace() {\n    if (code.length > 0) {\n      setCode(code.slice(0, code.length - 1));\n    }\n  }\n\n  return (\n      <MenuContent name={'Join Desk'}>\n        <div className={'flex flex-wrap w-full content-center'}>\n          <div className={' w-1/2'}>\n            <div className={'text-xl'}>\n              {message}\n            </div>\n            <div\n                className={'text-9xl h-full flex flex-wrap content-center justify-center'}>\n              {code.length < 4 ? code : ''}\n            </div>\n          </div>\n          <div className={'p-2 rounded space-y-4 text-2xl'}>\n            <div className={'flex space-x-4'}>\n              <JoinDeskButton handleClick={handleClick}\n                              char={'A'}/>\n              <JoinDeskButton handleClick={handleClick}\n                              char={'B'}/>\n              <JoinDeskButton handleClick={handleClick}\n                              char={'C'}/>\n            </div>\n            <div className={'flex space-x-4'}>\n              <JoinDeskButton handleClick={handleClick}\n                              char={'D'}/>\n              <JoinDeskButton handleClick={handleClick}\n                              char={'E'}/>\n              <JoinDeskButton handleClick={handleClick}\n                              char={'F'}/>\n            </div>\n            <div className={'flex space-x-4'}>\n              <JoinDeskButton handleClick={handleClick}\n                              char={'G'}/>\n              <JoinDeskButton handleClick={handleClick}\n                              char={'H'}/>\n              <JoinDeskButton handleClick={handleClick}\n                              char={'I'}/>\n            </div>\n            <div className={'flex flex-wrap w-full justify-around'}>\n              <JoinDeskButton\n                  handleClick={handleBackspace} char={'<'}/>\n            </div>\n          </div>\n        </div>\n      </MenuContent>\n  );\n}\n\nfunction VideosPage() {\n  return <MenuContent name={'Videos'}>\n    <InfoItem imgSrc={YtImg} title={'YouTube'}\n              slug={'Find videos to watch on the big screen'}>\n      <Button className={greenButtonClass} handleClick={postBrowseYouTube}>\n        Browse\n      </Button>\n    </InfoItem>\n  </MenuContent>;\n}\n\nconst DebugPage = observer(() => {\n  let {store} = useStore();\n\n  let addFakeIpPort = action((store) => {\n    store.ip_address = 1234;\n    store.port = 4321;\n  });\n  let rmFakeIpPort = action(store => {\n    store.ip_address = null;\n    store.port = null;\n  });\n\n  let setNetState = action((store, netState) => {\n    store.network_state = netState;\n  });\n\n  let addFakeClient = action(store => {\n    if (store.player_info.length > 0) {\n      store.player_info.push({Name: 'cam', ConnectionId: 1});\n    } else {\n      store.player_info.push(\n          {Name: 'loremIpsumLoremIpsumLorem', ConnectionId: 0});\n    }\n  });\n  let rmFakeClient = action(store => {\n    store.player_info.pop();\n  });\n\n  let toggleRoomOpen = action(store => {\n    store.room_open = !store.room_open;\n  });\n\n  let containerClass = 'flex flex-wrap';\n\n  return (\n      <MenuContent name={'Debug'}>\n        <div className={'flex'}>\n\n          <div className={'w-1/2'}>\n            <ul>\n              {Object.entries(store).map(info => {\n                return <li className={'mb-2'} key={info[0]}>\n                  <span className={'font-bold'}>{info[0]}</span>{': '}<span\n                    className={'text-gray-400'}>{showInfo(info)}</span>\n                </li>;\n              })}\n            </ul>\n          </div>\n\n          <div className={'w-1/2'}>\n\n            <div>Host State</div>\n            <div className={containerClass}>\n              <Button handleClick={() => {\n                setNetState(store, 'Neutral');\n              }} className={grayButtonClass}>Neutral\n              </Button>\n              <Button handleClick={() => {\n                setNetState(store, 'HostWaiting');\n              }} className={grayButtonClass}>HostWaiting\n              </Button>\n              <Button handleClick={() => {\n                setNetState(store, 'Hosting');\n              }} className={grayButtonClass}>Hosting\n              </Button>\n              <Button handleClick={() => {\n                setNetState(store, 'ClientConnected');\n              }} className={grayButtonClass}>ClientConnected\n              </Button>\n\n\n            </div>\n\n            <div>Connection</div>\n            <div className={containerClass}>\n              <Button className={grayButtonClass} handleClick={() => {\n                addFakeIpPort(store);\n              }}>+ fake ip/port\n              </Button>\n              <Button className={grayButtonClass} handleClick={() => {\n                rmFakeIpPort(store);\n              }}>- fake ip/port\n              </Button>\n              <Button handleClick={() => {\n                addFakeClient(store);\n              }} className={grayButtonClass}>+ fake client\n              </Button>\n              <Button handleClick={() => {\n                rmFakeClient(store);\n              }} className={grayButtonClass}>- fake client\n              </Button>\n            </div>\n\n            <div>Room Status</div>\n\n            <div className={containerClass}>\n              <Button handleClick={() => {\n                toggleRoomOpen(store);\n              }} className={grayButtonClass}>\n                toggle room open\n              </Button>\n            </div>\n\n          </div>\n\n        </div>\n      </MenuContent>\n  );\n});\n\n//\n\nlet Menu = observer(() => {\n\n  let {store, pushStore} = useStore();\n\n  let [active, setActive] = useState(0);\n\n  let navHome = () => {\n    setActive(0);\n  };\n\n  useEffect(() => {\n    autorun(() => {\n      // remove room code if\n      // DEVELOPMENT || PRODUCTION\n      if (store.room_code &&\n          (!store.ip_address || !store.port || !store.room_open)) {\n        console.log('rm room code');\n        pushStore({room_code: null});\n        return;\n      }\n\n      // send ip/port out for a room code\n      if (store.room_open && !store.room_code && !store.loading_room_code &&\n          store.ip_address &&\n          store.port) {\n        console.log('fetch room code');\n        pushStore({loading_room_code: true});\n        let url = API_BASE + '/rooms';\n        axios(\n            {\n              method: 'post',\n              url: url,\n              data: `ip_address=${store.ip_address}&port=${store.port}`,\n              header: {'content-type': 'application/x-www-form-urlencoded'},\n            },\n        ).then(response => {\n          pushStore({room_code: response.data.tag, loading_room_code: false});\n        }).catch(err => {\n          console.log(err);\n          pushStore({loading_room_code: false});\n        });\n      }\n    });\n\n  });\n\n  useEffect(() => {\n    return () => {\n      pushStore({room_code: null});\n    };\n  }, [pushStore]);\n\n  const pages = [\n    {name: 'Home', component: HomePage},\n    {name: 'Join Desk', component: JoinDeskPage},\n    {name: 'Videos', component: VideosPage},\n    {name: 'Player', component: PlayerPage},\n  ];\n\n  if (store.build === 'DEVELOPMENT') {\n    pages.push({name: 'Debug', component: DebugPage});\n  }\n\n  let SelectedPage = pages[active].component;\n\n  let joinDeskActive = store.network_state === 'Hosting' && !store._room_open;\n\n  return (\n      <div className={'flex text-lg text-gray-500 h-full'}>\n        <div className={'w-4/12 bg-black overflow-auto scroll-host static'}>\n          <div className={'w-4/12 bg-black fixed'}>\n            <SettingsTitle>\n              Menu\n            </SettingsTitle>\n          </div>\n          <div className={'h-16'}/>\n          <SettingsList>\n            {pages.map((info, i) => {\n              if (info.name.toLowerCase() === 'join desk' && !joinDeskActive) {\n                return <ListItem key={info.name}\n                                 inactive={true}>{info.name}</ListItem>;\n              }\n              return <ListItem key={info.name} handleClick={() => {\n                setActive(i);\n              }} selected={active === i}>{info.name}</ListItem>;\n            })}\n          </SettingsList>\n        </div>\n        <div className={'bg-gray-900 z-10 w-full overflow-auto scroll-host'}>\n          <SelectedPage navHome={navHome}/>\n        </div>\n      </div>\n  );\n});\n\nexport default Menu;\n","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/backspace-hollow.5cb2158e.svg\";","export default __webpack_public_path__ + \"static/media/caret-square-up.bce15253.svg\";","export default __webpack_public_path__ + \"static/media/caret-square-up-hollow.5d65dc16.svg\";","import React, {useState} from 'react';\r\nimport {animated, useSpring} from 'react-spring';\r\nimport {Button} from './Button';\r\nimport {postJson} from '../utilities';\r\nimport BackSpaceImgHollow from '../static/backspace-hollow.svg';\r\nimport CaretSquareUp from '../static/caret-square-up.svg';\r\nimport CaretSquareUpHollow from '../static/caret-square-up-hollow.svg';\r\n\r\nexport function Shift(props) {\r\n  let {shift, toggleShift} = props;\r\n\r\n  const imgHidden = 'hidden h-10 w-10 absolute bottom-0 left-0';\r\n  const imgVisible = 'h-10 w-10 absolute -bottom-5 left-1';\r\n\r\n  return <KeyFrames handleClick={toggleShift}>\r\n    <div className={'relative w-full flex justify-center'}>\r\n      <img className={shift ? imgVisible : imgHidden} src={CaretSquareUp}\r\n           alt={''}/>\r\n      <img className={shift ? imgHidden : imgVisible}\r\n           src={shift ? CaretSquareUp : CaretSquareUpHollow} alt={''}/>\r\n    </div>\r\n  </KeyFrames>;\r\n}\r\n\r\nexport function KeyFrames({handleClick, width, children}) {\r\n  const [state, toggle] = useState(false);\r\n  const level = 150;\r\n  const {color} = useSpring(\r\n      {\r\n        reset: true,\r\n        from: {color: `rgba(${level},${level},${level},1)`},\r\n        color: 'rgba(38,38,38,1)',\r\n        config: {duration: 400},\r\n      });\r\n  return (\r\n      <Button handleClick={handleClick} shouldPostDown={false}\r\n              shouldPostUp={false} shouldPostHover={false}>\r\n        <div onClick={() => toggle(!state)} className={''}>\r\n          <animated.div\r\n              style={{\r\n                width: width ? width : '5rem',\r\n                height: '5rem',\r\n                padding: '1rem',\r\n                cursor: 'pointer',\r\n                borderRadius: '0.25rem',\r\n                background: color,\r\n                display: 'flex',\r\n                flexWrap: 'wrap',\r\n                alignContent: 'center',\r\n              }}\r\n          >\r\n            <div\r\n                className={'w-full text-center text-white text-3xl'}>\r\n              {children}\r\n            </div>\r\n          </animated.div>\r\n        </div>\r\n      </Button>\r\n  );\r\n}\r\n\r\nexport function NumsOrChar(props) {\r\n  let {handleClick, level} = props;\r\n\r\n  let shift;\r\n  shift = level === 0;\r\n\r\n  return <KeyFrames handleClick={handleClick} width={'7em'}>\r\n    {shift ? '.?123' : 'ABC'}\r\n  </KeyFrames>;\r\n}\r\n\r\nexport function SymbolsOrNum(props) {\r\n  let {handleClick, level} = props;\r\n\r\n  let shift;\r\n  shift = level !== 1;\r\n\r\n  return <KeyFrames handleClick={handleClick} width={'5em'}>\r\n    <span className={'w-full -m-1'}>\r\n    {shift ? '123' : '#+='}\r\n    </span>\r\n  </KeyFrames>;\r\n}\r\n\r\nfunction postChar(char) {\r\n  postJson({Type: 'event', Message: 'keyPress', Data: char});\r\n}\r\n\r\nexport function KeyChar(props) {\r\n  let {char, shift} = props;\r\n  const _char = shift ? char.toUpperCase() : char;\r\n  return <KeyFrames handleClick={() => {\r\n    postChar(_char);\r\n  }}>\r\n    <span className={'w-full text-center text-white text-3xl'}>\r\n      {_char}\r\n    </span>\r\n  </KeyFrames>;\r\n}\r\n\r\nexport function Enter() {\r\n\r\n  return <KeyFrames handleClick={() => {\r\n    postChar('Enter');\r\n  }} width={'8rem'}>Enter</KeyFrames>;\r\n\r\n}\r\n\r\nexport function Backspace() {\r\n\r\n  return <KeySVG handleClick={() => {\r\n    postChar('Backspace');\r\n  }} imgSrc={BackSpaceImgHollow}/>;\r\n\r\n}\r\n\r\nexport function KeySVG(props) {\r\n  let {imgSrc, handleClick} = props;\r\n  return (\r\n      <KeyFrames handleClick={handleClick}>\r\n        <div className={'relative w-full flex justify-center'}>\r\n          <img className={'h-10 w-10 absolute -bottom-5 left-1'} src={imgSrc}\r\n               alt={''}/>\r\n        </div>\r\n      </KeyFrames>\r\n  );\r\n}\r\n\r\nexport function Space() {\r\n  return <KeyFrames handleClick={() => {\r\n    postChar(' ');\r\n  }} width={'24rem'}/>;\r\n}","import React, {useState} from 'react';\nimport {Shift, SymbolsOrNum, NumsOrChar, Backspace, Enter, KeyChar, Space} from '../components/Keys';\n\nfunction Keyboard() {\n  let [shift, setShift] = useState(false);\n  let [level, setLevel] = useState(0);\n  let level0 = (\n      <React.Fragment>\n        <div className={'flex space-x-2 justify-center'}>\n          <KeyChar shift={shift} char={'q'}/>\n          <KeyChar shift={shift} char={'w'}/>\n          <KeyChar shift={shift} char={'e'}/>\n          <KeyChar shift={shift} char={'r'}/>\n          <KeyChar shift={shift} char={'t'}/>\n          <KeyChar shift={shift} char={'y'}/>\n          <KeyChar shift={shift} char={'u'}/>\n          <KeyChar shift={shift} char={'i'}/>\n          <KeyChar shift={shift} char={'o'}/>\n          <KeyChar shift={shift} char={'p'}/>\n          <Backspace/>\n        </div>\n        <div className={'flex space-x-2 justify-end'}>\n          <KeyChar shift={shift} char={'a'}/>\n          <KeyChar shift={shift} char={'s'}/>\n          <KeyChar shift={shift} char={'d'}/>\n          <KeyChar shift={shift} char={'f'}/>\n          <KeyChar shift={shift} char={'g'}/>\n          <KeyChar shift={shift} char={'h'}/>\n          <KeyChar shift={shift} char={'j'}/>\n          <KeyChar shift={shift} char={'k'}/>\n          <KeyChar shift={shift} char={'l'}/>\n          <Enter/>\n        </div>\n        <div className={'flex space-x-2 justify-center'}>\n          <Shift shift={shift} toggleShift={() => {\n            setShift(!shift);\n          }}/>\n          <KeyChar shift={shift} char={'z'}/>\n          <KeyChar shift={shift} char={'x'}/>\n          <KeyChar shift={shift} char={'c'}/>\n          <KeyChar shift={shift} char={'v'}/>\n          <KeyChar shift={shift} char={'b'}/>\n          <KeyChar shift={shift} char={'n'}/>\n          <KeyChar shift={shift} char={'m'}/>\n          <KeyChar shift={shift} char={','}/>\n          <KeyChar shift={shift} char={'.'}/>\n          <Shift shift={shift} toggleShift={() => {\n            setShift(!shift);\n          }}/>\n        </div>\n      </React.Fragment>\n  );\n\n  let level1 = (\n      <React.Fragment>\n        <div className={'flex space-x-2 justify-end'}>\n          <KeyChar shift={shift} char={'@'}/>\n          <KeyChar shift={shift} char={'#'}/>\n          <KeyChar shift={shift} char={'$'}/>\n          <KeyChar shift={shift} char={'&'}/>\n          <KeyChar shift={shift} char={'*'}/>\n          <KeyChar shift={shift} char={'('}/>\n          <KeyChar shift={shift} char={')'}/>\n          <KeyChar shift={shift} char={'\\''}/>\n          <KeyChar shift={shift} char={'\"'}/>\n          <Enter/>\n        </div>\n        <div className={'flex space-x-2 justify-end'}>\n          <SymbolsOrNum level={level} handleClick={handleClickSymbolOrNum}/>\n          <KeyChar shift={shift} char={'%'}/>\n          <KeyChar shift={shift} char={'-'}/>\n          <KeyChar shift={shift} char={'+'}/>\n          <KeyChar shift={shift} char={'='}/>\n          <KeyChar shift={shift} char={'/'}/>\n          <KeyChar shift={shift} char={';'}/>\n          <KeyChar shift={shift} char={':'}/>\n          <KeyChar shift={shift} char={','}/>\n          <KeyChar shift={shift} char={'.'}/>\n          <SymbolsOrNum level={level} handleClick={handleClickSymbolOrNum}/>\n        </div>\n      </React.Fragment>\n  );\n  let level12 = (\n      <React.Fragment>\n        <div className={'flex space-x-2 justify-center'}>\n          <KeyChar shift={shift} char={'1'}/>\n          <KeyChar shift={shift} char={'2'}/>\n          <KeyChar shift={shift} char={'3'}/>\n          <KeyChar shift={shift} char={'4'}/>\n          <KeyChar shift={shift} char={'5'}/>\n          <KeyChar shift={shift} char={'6'}/>\n          <KeyChar shift={shift} char={'7'}/>\n          <KeyChar shift={shift} char={'8'}/>\n          <KeyChar shift={shift} char={'9'}/>\n          <KeyChar shift={shift} char={'0'}/>\n          <Backspace/>\n        </div>\n      </React.Fragment>\n  );\n  let level2 = (\n      <React.Fragment>\n        <div className={'flex space-x-2 justify-end'}>\n          <KeyChar shift={shift} char={'€'}/>\n          <KeyChar shift={shift} char={'£'}/>\n          <KeyChar shift={shift} char={'¥'}/>\n          <KeyChar shift={shift} char={'_'}/>\n          <KeyChar shift={shift} char={'^'}/>\n          <KeyChar shift={shift} char={'['}/>\n          <KeyChar shift={shift} char={']'}/>\n          <KeyChar shift={shift} char={'{'}/>\n          <KeyChar shift={shift} char={'}'}/>\n          <Enter/>\n        </div>\n        <div className={'flex space-x-2 justify-center'}>\n          <SymbolsOrNum level={level} handleClick={handleClickSymbolOrNum}/>\n          <KeyChar shift={shift} char={'§'}/>\n          <KeyChar shift={shift} char={'|'}/>\n          <KeyChar shift={shift} char={'~'}/>\n          <KeyChar shift={shift} char={'…'}/>\n          <KeyChar shift={shift} char={'\\\\'}/>\n          <KeyChar shift={shift} char={'<'}/>\n          <KeyChar shift={shift} char={'>'}/>\n          <KeyChar shift={shift} char={'!'}/>\n          <KeyChar shift={shift} char={'?'}/>\n          <SymbolsOrNum level={level} handleClick={handleClickSymbolOrNum}/>\n        </div>\n      </React.Fragment>\n  );\n\n  function handleClickSymbolOrNum() {\n    switch (level) {\n      case 1:\n        setLevel(2);\n        break;\n      default:\n        setLevel(1);\n    }\n  }\n\n  function handleClickNumOrChar() {\n    switch (level) {\n      case 0:\n        setLevel(1);\n        break;\n      default:\n        setLevel(0);\n        break;\n    }\n\n  }\n\n  return (\n      <div\n          className={'w-full h-screen bg-black flex flex-wrap justify-center content-center'}>\n        <div className={'space-y-2'}>\n\n          {level === 0 ? level0 : ''}\n          {level === 1 || level === 2 ? level12 : ''}\n          {level === 1 ? level1 : ''}\n          {level === 2 ? level2 : ''}\n          <div className={'w-full flex space-x-2 justify-between'}>\n            <NumsOrChar level={level} handleClick={handleClickNumOrChar}/>\n            <Space/>\n            <div className={'flex space-x-2'}>\n              <NumsOrChar level={level} handleClick={handleClickNumOrChar}/>\n            </div>\n          </div>\n        </div>\n\n      </div>\n  );\n}\n\nexport default Keyboard;","export default __webpack_public_path__ + \"static/media/close.0769b092.svg\";","export default __webpack_public_path__ + \"static/media/back.d3a137ff.svg\";","export default __webpack_public_path__ + \"static/media/forward.949d2099.svg\";","export default __webpack_public_path__ + \"static/media/keyboard.caceef28.svg\";","export default __webpack_public_path__ + \"static/media/keyboard-dismiss.24998ccf.svg\";","import React, {useState} from 'react';\r\nimport CloseImg from '../static/close.svg';\r\nimport BackImg from '../static/back.svg';\r\nimport ForwardImg from '../static/forward.svg';\r\nimport KeyBoardImg from '../static/keyboard.svg';\r\nimport KeyBoardDismissImg from '../static/keyboard-dismiss.svg';\r\nimport {postJson} from '../utilities';\r\nimport {KeySVG} from '../components/Keys';\r\n\r\nfunction postCommand(message) {\r\n  console.log(message);\r\n  postJson({Type: 'command', Message: message});\r\n}\r\n\r\nfunction KeyboardButton(props) {\r\n  let {kbActive, handleClick} = props;\r\n\r\n  return (\r\n      <div className={'w-full flex justify-center'}>\r\n        <KeySVG handleClick={handleClick}\r\n                imgSrc={kbActive ? KeyBoardDismissImg : KeyBoardImg}/>\r\n      </div>\r\n\r\n  );\r\n\r\n}\r\n\r\nfunction WebNav() {\r\n\r\n  let [kbActive, setKbActive] = useState(false);\r\n\r\n  let closeButtonClass = 'bg-red-800 active:bg-red-700 hover:bg-red-600 rounded cursor-pointer w-20 h-20 flex flex-wrap content-center';\r\n\r\n  let handleClose = () => {\r\n    postCommand('closeWeb');\r\n  };\r\n\r\n  let handleKeyboardButtonClick = () => {\r\n    kbActive ? postCommand('dismissKeyboard') : postCommand('spawnKeyboard');\r\n    setKbActive(!kbActive);\r\n  };\r\n\r\n  return (\r\n      <div\r\n          className={'w-full h-screen bg-black flex flex-wrap content-center justify-center'}>\r\n        <div className={'space-y-2 mb-2'}>\r\n          <div className={'w-full flex justify-center'}>\r\n            <KeySVG handleClick={handleClose} className={closeButtonClass}\r\n                    imgSrc={CloseImg}/>\r\n          </div>\r\n          <div className={'flex space-x-2'}>\r\n            <KeySVG imgSrc={BackImg} handleClick={\r\n              () => {\r\n                postCommand('navBack');\r\n              }\r\n            }/>\r\n            <KeySVG imgSrc={ForwardImg} handleClick={() => {\r\n              postCommand('navForward');\r\n            }}/>\r\n          </div>\r\n          <KeyboardButton kbActive={kbActive}\r\n                          handleClick={handleKeyboardButtonClick}/>\r\n        </div>\r\n      </div>\r\n  );\r\n}\r\n\r\nexport default WebNav;","import React from 'react';\nimport {\n  Link,\n  MemoryRouter as Router,\n  Route,\n  Switch,\n  useHistory,\n} from 'react-router-dom';\nimport YouTube from './pages/YouTube';\nimport Spring from './pages/Spring';\nimport Twitch from './pages/Twitch';\nimport Menu from './pages/Menu';\nimport Keyboard from './pages/Keyboard';\nimport WebNav from './pages/WebNav';\nimport {postJson} from './utilities';\n\nfunction postListenersReady() {\n  postJson({Type: 'event', Message: 'listenersReady', Data: new Date().getTime()});\n\n}\n\nfunction genNavListeners(history) {\n\n  function _navListeners(event) {\n\n    let json = JSON.parse(event.data);\n\n    if (json.type !== 'nav') return;\n\n    console.log(\"asdf\")\n\n    switch (json.command) {\n      case 'push':\n        console.log('command: nav ' + json.path);\n        history.push(json.path);\n        break;\n      default:\n        console.log(\n            'command: not handled (navListeners) ' + JSON.stringify(json));\n        break;\n    }\n  }\n\n  return _navListeners;\n}\n\nfunction Boot() {\n\n  console.log('Boot');\n\n  let history = useHistory();\n\n  let navListeners = genNavListeners(history);\n\n  if (window.vuplex != null) {\n\n    console.log('bonsai: vuplex is not null -> navListeners');\n    window.vuplex.addEventListener('message', navListeners);\n    postListenersReady();\n\n  } else {\n    console.log('bonsai: vuplex is null');\n    window.addEventListener('vuplexready', _ => {\n\n      console.log('bonsai: vuplexready -> navListeners');\n      window.vuplex.addEventListener('message', navListeners);\n      postListenersReady();\n\n    });\n  }\n\n  return (\n      <div>\n        Boot\n        <ul>\n          <li>\n            <Link\n                to={'/youtube_test/qEfPBt9dU60/19.02890180001912?x=480&y=360'}>youtube_test\n              video</Link>\n          </li>\n          <li>\n            <Link to={'/spring'}>spring</Link>\n          </li>\n          <li>\n            <Link to={'/twitch'}>twitch</Link>\n          </li>\n          <li>\n            <Link to={'/menu'}>menu</Link>\n          </li>\n          <li>\n            <Link to={'/home'}>home</Link>\n          </li>\n          <li>\n            <Link to={'/keyboard'}>keyboard</Link>\n          </li>\n          <li>\n            <Link to={'/webnav'}>webnav</Link>\n          </li>\n        </ul>\n      </div>\n  );\n}\n\nfunction Home() {\n  return <div className={\"w-full h-full bg-gray-900\"}></div>;\n}\n\nfunction App() {\n  console.log('App');\n  return (\n      <Router>\n        <div className={'h-screen text-green-400 select-none'}>\n          <Switch>\n\n            <Route path={'/home'} component={Home}/>\n\n            <Route path={'/spring'} component={Spring}/>\n\n            <Route path={'/twitch'} component={Twitch}/>\n\n            <Route path={'/menu'} component={Menu}/>\n\n            <Route path={'/keyboard'} component={Keyboard}/>\n\n            <Route path={'/webnav'} component={WebNav}/>\n\n            <Route path={'/youtube/:id/:timeStamp'} component={YouTube}/>\n\n            <Route path={'/youtube_test/:id/:timeStamp'} component={YouTube}/>\n\n            <Route path={'/'} component={Boot}/>\n\n          </Switch>\n        </div>\n      </Router>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport {StoreProvider} from \"./DataProvider\"\n\nReactDOM.render(\n  <React.StrictMode>\n      <StoreProvider>\n          <App />\n      </StoreProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}